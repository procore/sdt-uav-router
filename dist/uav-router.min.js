"use strict";!function(){function n(n){if(!n)return"";var e=[];return Object.keys(n).forEach(function(a){void 0!==n[a]&&e.push(encodeURIComponent(a)+"="+encodeURIComponent(n[a]))}),e.join("&")}function e(n){var e={};return decodeURIComponent(n).split("&").forEach(function(n){(n=n.split("="))[0]&&(e[n[0]]=n[1])}),e}function a(){m.params=e(location.hash.substring(1))}function o(){var e=n(m.params);f||(f=!0,requestAnimationFrame(function(){location.hash=e}))}function r(n){return"string"==typeof n&&(n=e(n)),n||{}}function t(n){var e=Object.keys(n),a=Object.keys(m.params);if(e.length!==a.length)return!0;for(var o=e.length>a.length?e:a,r=0;r<o.length;r++)if(m.params[o[r]]!==n[o[r]])return!0}function i(n){var e;return n=r(n),Object.keys(n).forEach(function(a){m.params[a]!==n[a]&&(e=!0,m.params[a]=n[a])}),e}function c(){var e="#"+n(m.params);location.hash!==e&&history.replaceState(void 0,void 0,e)}function u(n){var e;return n.forEach(function(n){void 0!==m.params[n]&&(e=!0,delete m.params[n])}),e}var f,s,p=function(){f?f=!1:(a(),m.load())},l={remove:function(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];u(e)&&l.set(m.params,!0)},removeReplace:function(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];u(e)&&c()},merge:function(n){i(n)&&o()},set:function(n,e){n=r(n),(e||t(n))&&(m.params=n,o())},replace:function(n){t(n=r(n))&&(m.params=n,c())},mergeReplace:function(n){i(n)&&c()}},m={params:{},url:l,load:function(){m.app&&!s&&(s=!0,requestAnimationFrame(function(){s=!1,m.app(m.params)}))},init:function(n){m.app=n,window.addEventListener("hashchange",p,{passive:!0}),a(),m.load()},remove:function(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];u(e),o(),m.load()},removeReplace:function(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];u(e),c(),m.load()},merge:function(n){i(n),o(),m.load()},set:function(n){m.params=r(n),o(),m.load()},replace:function(n){m.params=r(n),c(),m.load()},mergeReplace:function(n){i(n),c(),m.load()}};window.uav=window.uav||{},window.uav.router=m,"undefined"!=typeof module&&module.exports&&(module.exports=m)}();