"use strict";!function(){function n(n){if(!n)return"";var e=[];return Object.keys(n).forEach(function(r){void 0!==n[r]&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(n[r]))}),e.join("&")}function e(n){var e={};return decodeURIComponent(n).split("&").forEach(function(n){(n=n.split("="))[0]&&(e[n[0]]=n[1])}),e}function r(){v.params=e(location.hash.substring(1))}function a(e){var r=n(v.params);e&&location.hash===r?v.load():location.hash=r}function o(){window.addEventListener("hashchange",h)}function t(){window.removeEventListener("hashchange",h)}function i(n){return"string"==typeof n&&(n=e(n)),n||{}}function u(n){var e=Object.keys(n),r=Object.keys(v.params);if(e.length!==r.length)return!0;for(var a=0;a<e.length;a++)if(v.params[e[a]]!==n[e[a]])return!0;for(var o=0;o<r.length;o++)if(v.params[r[o]]!==n[r[o]])return!0}function c(n){var e;return n=i(n),Object.keys(n).forEach(function(r){v.params[r]!==n[r]&&(e=!0,v.params[r]=n[r])}),e}function f(){var e="#"+n(v.params);location.hash!==e&&history.replaceState(void 0,void 0,e)}function s(n){m.length||(t(),requestAnimationFrame(function(){var n=Array.from(m);m=[],n.forEach(function(n){return n()}),requestAnimationFrame(o)})),m.push(n)}function p(n){var e;return n.forEach(function(n){void 0!==v.params[n]&&(e=!0,delete v.params[n])}),e}var m=[],h=function(){r(),v.load()},l={remove:function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];p(e)&&l.set(v.params,!0)},removeReplace:function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];p(e)&&s(f)},merge:function(n){c(n)&&s(a)},set:function(n,e){n=i(n),(e||u(n))&&(v.params=n,s(a))},replace:function(n){u(n=i(n))&&(v.params=n,s(f))},mergeReplace:function(n){c(n)&&s(f)}},v={params:{},url:l,unbound:1,load:function(){v.app&&v.app(v.params)},init:function(n){v.app=n,o(),r(),v.load()},remove:function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];p(e),a(!0)},removeReplace:function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];p(e),f()},merge:function(n){c(n),a(!0)},set:function(n){v.params=i(n),a(!0)},replace:function(n){v.params=i(n),f()},mergeReplace:function(n){c(n),f()}};window.uav=window.uav||{},window.uav.router=v,"undefined"!=typeof module&&module.exports&&(module.exports=v)}();