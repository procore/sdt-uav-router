"use strict";!function(){var e,n;function a(e){if(!e)return"";var a=[];return Object.keys(e).forEach(function(n){void 0!==e[n]&&a.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}),a.join("&")}function o(n){var e={};return decodeURIComponent(n).split("&").forEach(function(n){(n=n.split("="))[0]&&(e[n[0]]=n[1])}),e}function r(){m.params=o(location.hash.substring(1))}function t(){var n=a(m.params);e||location.hash.substring(1)===n||(e=!0,requestAnimationFrame(function(){location.hash=n}))}function i(){e?e=!1:(r(),m.load())}function c(n){return"string"==typeof n&&(n=o(n)),n||{}}function u(n){var e=Object.keys(n),a=Object.keys(m.params);if(e.length!==a.length)return!0;for(var o=e.length>a.length?e:a,r=0;r<o.length;r++)if(m.params[o[r]]!==n[o[r]])return!0}function f(e){var a;return e=c(e),Object.keys(e).forEach(function(n){m.params[n]!==e[n]&&(a=!0,m.params[n]=e[n])}),a}function s(){var n="#"+a(m.params);location.hash!==n&&history.replaceState(void 0,void 0,n)}function p(n){var e;return n.forEach(function(n){void 0!==m.params[n]&&(e=!0,delete m.params[n])}),e}var l={remove:function(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];p(e)&&l.set(m.params,!0)},removeReplace:function(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];p(e)&&s()},merge:function(n){f(n)&&t()},set:function(n,e){n=c(n),(e||u(n))&&(m.params=n,t())},replace:function(n){u(n=c(n))&&(m.params=n,s())},mergeReplace:function(n){f(n)&&s()}},m={params:{},url:l,load:function(){m.app&&!n&&(n=!0,requestAnimationFrame(function(){n=!1,m.app(m.params)}))},init:function(n){location.search?location.href=location.href.replace("#","&").replace("?","#"):(m.app=n,window.addEventListener("hashchange",i,{passive:!0}),r(),m.load())},remove:function(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];p(e),t(),m.load()},removeReplace:function(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];p(e),s(),m.load()},merge:function(n){f(n),t(),m.load()},set:function(n){m.params=c(n),t(),m.load()},replace:function(n){m.params=c(n),s(),m.load()},mergeReplace:function(n){f(n),s(),m.load()}};window.uav=window.uav||{},window.uav.router=m,"undefined"!=typeof module&&module.exports&&(module.exports=m)}();